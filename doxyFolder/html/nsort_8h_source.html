<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DENDRO: /home/gaurav/Documents/Dendro-KT/include/nsort.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DENDRO
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">nsort.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="nsort_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef DENDRO_KT_NSORT_H</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define DENDRO_KT_NSORT_H</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tsort_8h.html">tsort.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="treeNode_8h.html">treeNode.h</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hcurvedata_8h.html">hcurvedata.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parUtils_8h.html">parUtils.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="binUtils_8h.html">binUtils.h</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="filterFunction_8h.html">filterFunction.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;bitset&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;mpi.h&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceot.html">ot</a> {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> OuterDim&gt;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html">   45</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structot_1_1CellType.html">CellType</a></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  {</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">   47</a></span>&#160;    <span class="keyword">using</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> = <span class="keywordtype">unsigned</span> char;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#aa053ce65a5dbb42cd5470810efc9b6cc">   50</a></span>&#160;    <a class="code" href="structot_1_1CellType.html#aa053ce65a5dbb42cd5470810efc9b6cc">CellType</a>() { <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> = 0; }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">// No checks are performed to make sure that c_orient is consistent with c_dim.</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#a5040a4a3d22146291bfc7a05f5f9c97f">   53</a></span>&#160;    <span class="keyword">operator</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a>&amp;() { <span class="keywordflow">return</span> <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a>; }</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#ae6b7f23b3410976b8c1a268fc153428d">   54</a></span>&#160;    <span class="keyword">operator</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a>() { <span class="keywordflow">return</span> <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a>; }</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#a71405a1576883211f31f42cee94650ed">   56</a></span>&#160;    <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> <a class="code" href="structot_1_1CellType.html#a71405a1576883211f31f42cee94650ed">get_dim_flag</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> &gt;&gt; m_shift; }</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#a9939c0953f77995e6fd099f2ec55ed1a">   57</a></span>&#160;    <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> <a class="code" href="structot_1_1CellType.html#a9939c0953f77995e6fd099f2ec55ed1a">get_orient_flag</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> &amp; m_mask; }</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#adec04ff25e23067620ac99005a4af7e5">   59</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structot_1_1CellType.html#adec04ff25e23067620ac99005a4af7e5">set_dimFlag</a>(<a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> c_dim) { <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> = (<a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> &amp; m_mask) | (c_dim &lt;&lt; m_shift); }</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#aec3af5ce489fcfd4e192d5a72d4a0b54">   60</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structot_1_1CellType.html#aec3af5ce489fcfd4e192d5a72d4a0b54">set_orientFlag</a>(<a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> c_orient) { <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> = (<a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a> &amp; (~m_mask)) | (c_orient &amp; m_mask); }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// TODO void set_flags(FlagType c_orient); // Counts 1s in c_orient and uses count for c_dim.</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// Data members.</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">   65</a></span>&#160;    <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> <a class="code" href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">m_flag</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="comment">// Usage: prefix=0u, lengthLeft=OuterDim, onesLeft=faceDimension, dest=arrayStart.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="comment">// Recursion depth is equal to onesLeft.</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">void</span> emitCombinations(<a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> prefix, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> lengthLeft, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> onesLeft, <a class="code" href="structot_1_1CellType.html">CellType</a> * &amp;dest);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> m_shift = 4u;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">FlagType</a> m_mask = (1u &lt;&lt; m_shift) - 1;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  };</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim&gt;</div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="classot_1_1TNPoint.html">   79</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classot_1_1TNPoint.html">TNPoint</a> : <span class="keyword">public</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="classot_1_1TNPoint.html">TNPoint</a>();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <a class="code" href="classot_1_1TNPoint.html">TNPoint</a> (<span class="keyword">const</span> std::array&lt;T,dim&gt; coords, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="classot_1_1TNPoint.html">TNPoint</a> (<span class="keyword">const</span> <a class="code" href="classot_1_1TNPoint.html">TNPoint</a> &amp; other);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <a class="code" href="classot_1_1TNPoint.html">TNPoint</a> &amp; operator = (<a class="code" href="classot_1_1TNPoint.html">TNPoint</a> <span class="keyword">const</span>  &amp; other);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="keywordtype">bool</span> operator== (<a class="code" href="classot_1_1TNPoint.html">TNPoint</a> <span class="keyword">const</span> &amp;that) <span class="keyword">const</span>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="keywordtype">bool</span> operator!= (<a class="code" href="classot_1_1TNPoint.html">TNPoint</a> <span class="keyword">const</span> &amp;that) <span class="keyword">const</span>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classot_1_1TNPoint.html#a37260b18402c993e8adf4db62c18317c">  110</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classot_1_1TNPoint.html#a37260b18402c993e8adf4db62c18317c">get_owner</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_owner; }</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classot_1_1TNPoint.html#ac2b8d26b7a11298f6790921831b53d2a">  111</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="classot_1_1TNPoint.html#ac2b8d26b7a11298f6790921831b53d2a">set_owner</a>(<span class="keywordtype">int</span> owner) { m_owner = owner; }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="structot_1_1CellType.html">CellType&lt;dim&gt;</a> get_cellType(<a class="code" href="namespaceot.html#afff5a8c182f80b6768e5bda1a00aa681">LevI</a> lev) <span class="keyword">const</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      <span class="keyword">static</span> <a class="code" href="structot_1_1CellType.html">CellType&lt;dim&gt;</a> get_cellType(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T, dim&gt;</a> &amp;tnPoint, <a class="code" href="namespaceot.html#afff5a8c182f80b6768e5bda1a00aa681">LevI</a> lev);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keywordtype">bool</span> getIsCancellation() <span class="keyword">const</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordtype">void</span> setIsCancellation(<span class="keywordtype">bool</span> isCancellation);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> get_lexNodeRank(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T,dim&gt;</a> &amp;hostCell, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> polyOrder) <span class="keyword">const</span>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> get_lexNodeRank(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T,dim&gt;</a> &amp;hostCell, <span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T, dim&gt;</a> &amp;tnPoint, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> polyOrder);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> get_nodeRank1D(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T, dim&gt;</a> &amp;hostCell, <span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T, dim&gt;</a> &amp;tnPoint, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> d, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> polyOrder);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <span class="keyword">static</span> std::array&lt;unsigned, dim&gt; get_nodeRanks1D(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T, dim&gt;</a> &amp;hostCell, <span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T, dim&gt;</a> &amp;tnPoint, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> polyOrder);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keyword">static</span> <span class="keywordtype">void</span> get_relNodeCoords(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T,dim&gt;</a> &amp;containingSubtree,</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T,dim&gt;</a> &amp;tnPoint,</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> polyOrder,</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                                    std::array&lt;unsigned int, dim&gt; &amp;numerators,</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;denominator);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">protected</span>:</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <span class="comment">// Data members.</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classot_1_1TNPoint.html#ae3ebed2dadf4da044f787d19a6af8d15">  143</a></span>&#160;      <span class="keywordtype">int</span> m_owner = -1;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="comment">//TODO These members could be overlayed in a union if we are careful.</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classot_1_1TNPoint.html#a5b992f23cb9dde67a3721b253ee82561">  147</a></span>&#160;      <span class="keywordtype">bool</span> m_isCancellation = <span class="keyword">false</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  };</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> SrcType, <span class="keyword">typename</span> RsltType&gt;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="namespaceot.html#adf01d593460a9b11ed1cb12dcd7e6122">  151</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="namespaceot.html#adf01d593460a9b11ed1cb12dcd7e6122">KeyFunInboundsContainer_t</a> = std::function&lt;RsltType(const SrcType &amp;)&gt;;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim&gt;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classot_1_1Element.html">  154</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classot_1_1Element.html">Element</a> : <span class="keyword">public</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="comment">// Bring in parent constructors.</span></div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classot_1_1Element.html#adc88d3014a97c137856b55563fccd966">  158</a></span>&#160;      <a class="code" href="classot_1_1Element.html#adc88d3014a97c137856b55563fccd966">Element</a> () : <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt; () {}</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="classot_1_1Element.html#a40c44722d4a2d12479d9eccf234e1690">  159</a></span>&#160;      <a class="code" href="classot_1_1Element.html#a40c44722d4a2d12479d9eccf234e1690">Element</a> (<span class="keyword">const</span> std::array&lt;T,dim&gt; coords, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level) : <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt; (coords, level) {}</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classot_1_1Element.html#a7dfd69806eef49803a4aee79d0117add">  160</a></span>&#160;      <a class="code" href="classot_1_1Element.html#a7dfd69806eef49803a4aee79d0117add">Element</a> (<span class="keyword">const</span> <a class="code" href="classot_1_1Element.html">Element</a> &amp; other) : <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt; (other) {}</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classot_1_1Element.html#a4fcab890a8748183d645a29a657c2da3">  161</a></span>&#160;      <a class="code" href="classot_1_1Element.html#a4fcab890a8748183d645a29a657c2da3">Element</a> (<span class="keyword">const</span> <span class="keywordtype">int</span> dummy, <span class="keyword">const</span> std::array&lt;T,dim&gt; coords, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> level) :</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt; (dummy, coords, level) {}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="comment">// Constructor from TreeNode to Element.</span></div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classot_1_1Element.html#a9a6b9998c10df2f633fa298cf375f7e5">  165</a></span>&#160;      <a class="code" href="classot_1_1Element.html#a9a6b9998c10df2f633fa298cf375f7e5">Element</a>(<span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T,dim&gt;</a> &amp; other) : <a class="code" href="classot_1_1TreeNode.html">TreeNode</a>&lt;T,dim&gt;(other) {}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keyword">using</span> <a class="code" href="classot_1_1TreeNode.html">TreeNode&lt;T,dim&gt;::operator</a>=;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      std::array&lt;T, dim&gt; getNodeX(<span class="keyword">const</span> std::array&lt;unsigned, dim&gt; &amp;numerators, <span class="keywordtype">unsigned</span> polyOrder) <span class="keyword">const</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <a class="code" href="classot_1_1TNPoint.html">TNPoint&lt;T, dim&gt;</a>    getNode(<span class="keyword">const</span> std::array&lt;unsigned, dim&gt; &amp;numerators, <span class="keywordtype">unsigned</span> polyOrder) <span class="keyword">const</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TN = TNPo<span class="keywordtype">int</span>&lt;T,dim&gt;&gt;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordtype">void</span> appendNodes(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order, std::vector&lt;TN&gt; &amp;nodeList) <span class="keyword">const</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordtype">void</span> appendInteriorNodes(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order, std::vector&lt;<a class="code" href="classot_1_1TNPoint.html">TNPoint&lt;T,dim&gt;</a>&gt; &amp;nodeList) <span class="keyword">const</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordtype">void</span> appendExteriorNodes(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order, std::vector&lt;<a class="code" href="classot_1_1TNPoint.html">TNPoint&lt;T,dim&gt;</a>&gt; &amp;nodeList, <a class="code" href="namespaceibm.html#a526d58a21997e189086dd9459a672e1a">const ::ibm::DomainDecider</a> &amp;domainDecider) <span class="keyword">const</span>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="keywordtype">void</span> appendCancellationNodes(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> order, std::vector&lt;<a class="code" href="classot_1_1TNPoint.html">TNPoint&lt;T,dim&gt;</a>&gt; &amp;nodeList) <span class="keyword">const</span>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      std::array&lt;unsigned, dim&gt; hanging2ParentIndicesBijection(</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          <span class="keyword">const</span> std::array&lt;unsigned, dim&gt; &amp;indices, <span class="keywordtype">unsigned</span> polyOrder) <span class="keyword">const</span>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordtype">void</span>  incidentChildren(</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;          <span class="keyword">const</span> <a class="code" href="classot_1_1TreeNode.html">ot::TreeNode&lt;T,dim&gt;</a> &amp;pointCoords,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          <span class="keyword">typename</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">ot::CellType&lt;dim&gt;::FlagType</a> &amp;incidenceOffset,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          <span class="keyword">typename</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">ot::CellType&lt;dim&gt;::FlagType</a> &amp;incidenceSubspace,</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;          <span class="keyword">typename</span> <a class="code" href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">ot::CellType&lt;dim&gt;::FlagType</a> &amp;incidenceSubspaceDim) <span class="keyword">const</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  };</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="structot_1_1ScatterMap.html">  206</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structot_1_1ScatterMap.html">ScatterMap</a></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  {</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="structot_1_1ScatterMap.html#a3bd473eae5f415378af5f9cf1a6c8bfd">  208</a></span>&#160;    std::vector&lt;RankI&gt; <a class="code" href="structot_1_1ScatterMap.html#a3bd473eae5f415378af5f9cf1a6c8bfd">m_map</a>;</div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="structot_1_1ScatterMap.html#a3a9bd61ff7c3483f8db18423860a0129">  209</a></span>&#160;    std::vector&lt;RankI&gt; <a class="code" href="structot_1_1ScatterMap.html#a3a9bd61ff7c3483f8db18423860a0129">m_sendCounts</a>;</div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="structot_1_1ScatterMap.html#a5d3a7bab30efdba6ba8a1f6394f9424d">  210</a></span>&#160;    std::vector&lt;RankI&gt; <a class="code" href="structot_1_1ScatterMap.html#a5d3a7bab30efdba6ba8a1f6394f9424d">m_sendOffsets</a>;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="structot_1_1ScatterMap.html#aa84b097a0b027f7e795075f829896b0f">  211</a></span>&#160;    std::vector&lt;int&gt; <a class="code" href="structot_1_1ScatterMap.html#aa84b097a0b027f7e795075f829896b0f">m_sendProc</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  };</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html">  214</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structot_1_1GatherMap.html">GatherMap</a></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html#a4857e238dcea641dcda2addc456a9f0c">  233</a></span>&#160;    std::vector&lt;int&gt; <a class="code" href="structot_1_1GatherMap.html#a4857e238dcea641dcda2addc456a9f0c">m_recvProc</a>;</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html#a168442e3e2ba6fe76abc4e417b97ec49">  234</a></span>&#160;    std::vector&lt;RankI&gt; <a class="code" href="structot_1_1GatherMap.html#a168442e3e2ba6fe76abc4e417b97ec49">m_recvCounts</a>;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html#aedfac23a33447b618b9dcf2014c8f490">  235</a></span>&#160;    std::vector&lt;RankI&gt; <a class="code" href="structot_1_1GatherMap.html#aedfac23a33447b618b9dcf2014c8f490">m_recvOffsets</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html#ab546a3b760a23c20d341ddd0ab68b8ed">  237</a></span>&#160;    <a class="code" href="namespaceot.html#a18508df6f32354e3cbd1537ee694f269">RankI</a> <a class="code" href="structot_1_1GatherMap.html#ab546a3b760a23c20d341ddd0ab68b8ed">m_totalCount</a>;</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html#aeac3e6c4b871613d2ad6f862e5bc211d">  238</a></span>&#160;    <a class="code" href="namespaceot.html#a18508df6f32354e3cbd1537ee694f269">RankI</a> <a class="code" href="structot_1_1GatherMap.html#aeac3e6c4b871613d2ad6f862e5bc211d">m_locCount</a>;</div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="structot_1_1GatherMap.html#a8fa7b959ad770d122c3479783067f333">  239</a></span>&#160;    <a class="code" href="namespaceot.html#a18508df6f32354e3cbd1537ee694f269">RankI</a> <a class="code" href="structot_1_1GatherMap.html#a8fa7b959ad770d122c3479783067f333">m_locOffset</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  };</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="namespaceot.html#a459022582bf1d254539ddf5ac6000a0c">  242</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="namespaceot.html#a459022582bf1d254539ddf5ac6000a0c">computeTotalSendSz</a>(<span class="keyword">const</span> <a class="code" href="structot_1_1ScatterMap.html">ScatterMap</a> &amp;sm)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">size_t</span> total = 0;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="namespaceot.html#a18508df6f32354e3cbd1537ee694f269">RankI</a> sendCount : sm.<a class="code" href="structot_1_1ScatterMap.html#a3a9bd61ff7c3483f8db18423860a0129">m_sendCounts</a>)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      total += sendCount;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> total;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  }</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="namespaceot.html#ae19fb6e2fa60807b5cd80539b2555476">  250</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="namespaceot.html#ae19fb6e2fa60807b5cd80539b2555476">totalRecvSz</a>(<span class="keyword">const</span> <a class="code" href="structot_1_1GatherMap.html">GatherMap</a> &amp;gm)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  {</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">return</span> gm.<a class="code" href="structot_1_1GatherMap.html#ab546a3b760a23c20d341ddd0ab68b8ed">m_totalCount</a> - gm.<a class="code" href="structot_1_1GatherMap.html#aeac3e6c4b871613d2ad6f862e5bc211d">m_locCount</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  std::ostream &amp; <a class="code" href="namespaceot.html#a01569780058c841713babce53b153d0f">operator&lt;&lt;</a>(std::ostream &amp;out, <span class="keyword">const</span> <a class="code" href="structot_1_1ScatterMap.html">ScatterMap</a> &amp;sm);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  std::ostream &amp; <a class="code" href="namespaceot.html#a01569780058c841713babce53b153d0f">operator&lt;&lt;</a>(std::ostream &amp;out, <span class="keyword">const</span> <a class="code" href="structot_1_1GatherMap.html">GatherMap</a> &amp;gm);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim&gt;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="structot_1_1SFC__NodeSort.html">  261</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structot_1_1SFC__NodeSort.html">SFC_NodeSort</a></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//TODO this function doesn&#39;t really belong in this class, it doesn&#39;t depend on T or dim at all. --&gt; the &#39;oda&#39; class</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> da&gt;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> ghostExchange(da *dataAndGhostBuffers, da *sendBufferSpace, <span class="keyword">const</span> <a class="code" href="structot_1_1ScatterMap.html">ScatterMap</a> &amp;sm, <span class="keyword">const</span> <a class="code" href="structot_1_1GatherMap.html">GatherMap</a> &amp;gm, MPI_Comm comm);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }; <span class="comment">// struct SFC_NodeSort</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}<span class="comment">//namespace ot</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="preprocessor">#include &quot;nsort.tcc&quot;</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacepar.html">par</a> {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">//Forward Declaration</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keyword">class </span>Mpi_datatype;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dim&gt;</div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classpar_1_1Mpi__datatype_3_01ot_1_1TNPoint_3_01T_00_01dim_01_4_01_4.html">  289</a></span>&#160;      <span class="keyword">class </span><a class="code" href="classpar_1_1Mpi__datatype.html">Mpi_datatype</a>&lt; <a class="code" href="namespaceot.html">ot</a>::TNPoint&lt;T,dim&gt; &gt; {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="comment">/*@masado Omitted all the comparison/reduction operations, limited to ::value().*/</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keyword">public</span>:</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classpar_1_1Mpi__datatype_3_01ot_1_1TNPoint_3_01T_00_01dim_01_4_01_4.html#a90a602c8122b70839cf9c7d7e16b3a30">  295</a></span>&#160;      <span class="keyword">static</span> MPI_Datatype <a class="code" href="classpar_1_1Mpi__datatype_3_01ot_1_1TNPoint_3_01T_00_01dim_01_4_01_4.html#a90a602c8122b70839cf9c7d7e16b3a30">value</a>()</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span>         first = <span class="keyword">true</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keyword">static</span> MPI_Datatype datatype;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">if</span> (first)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          first = <span class="keyword">false</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          MPI_Type_contiguous(<span class="keyword">sizeof</span>(<a class="code" href="classot_1_1TNPoint.html">ot::TNPoint&lt;T,dim&gt;</a>), MPI_BYTE, &amp;datatype);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;          MPI_Type_commit(&amp;datatype);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        }</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">return</span> datatype;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    };</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;}<span class="comment">//end namespace par</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#endif//DENDRO_KT_NSORT_H</span></div><div class="ttc" id="namespaceot_html_a18508df6f32354e3cbd1537ee694f269"><div class="ttname"><a href="namespaceot.html#a18508df6f32354e3cbd1537ee694f269">ot::RankI</a></div><div class="ttdeci">DendroIntL RankI</div><div class="ttdef"><b>Definition:</b> <a href="tsort_8h_source.html#l00056">tsort.h:56</a></div></div>
<div class="ttc" id="namespaceot_html"><div class="ttname"><a href="namespaceot.html">ot</a></div><div class="ttdoc">Simple class to manage async data transfer in the ODA class. </div><div class="ttdef"><b>Definition:</b> <a href="asyncExchangeContex_8h_source.html#l00020">asyncExchangeContex.h:20</a></div></div>
<div class="ttc" id="structot_1_1CellType_html_aa053ce65a5dbb42cd5470810efc9b6cc"><div class="ttname"><a href="structot_1_1CellType.html#aa053ce65a5dbb42cd5470810efc9b6cc">ot::CellType::CellType</a></div><div class="ttdeci">CellType()</div><div class="ttdoc">Constructs a 0-cell (point) inside the hypercube of dimension OuterDim. </div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00050">nsort.h:50</a></div></div>
<div class="ttc" id="treeNode_8h_html"><div class="ttname"><a href="treeNode_8h.html">treeNode.h</a></div></div>
<div class="ttc" id="classot_1_1TNPoint_html"><div class="ttname"><a href="classot_1_1TNPoint.html">ot::TNPoint</a></div><div class="ttdoc">TreeNode + extra attributes to keep track of node uniqueness. </div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00079">nsort.h:79</a></div></div>
<div class="ttc" id="tsort_8h_html"><div class="ttname"><a href="tsort_8h.html">tsort.h</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html_a4857e238dcea641dcda2addc456a9f0c"><div class="ttname"><a href="structot_1_1GatherMap.html#a4857e238dcea641dcda2addc456a9f0c">ot::GatherMap::m_recvProc</a></div><div class="ttdeci">std::vector&lt; int &gt; m_recvProc</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00233">nsort.h:233</a></div></div>
<div class="ttc" id="classot_1_1Element_html_a9a6b9998c10df2f633fa298cf375f7e5"><div class="ttname"><a href="classot_1_1Element.html#a9a6b9998c10df2f633fa298cf375f7e5">ot::Element::Element</a></div><div class="ttdeci">Element(const TreeNode&lt; T, dim &gt; &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00165">nsort.h:165</a></div></div>
<div class="ttc" id="structot_1_1CellType_html_aec3af5ce489fcfd4e192d5a72d4a0b54"><div class="ttname"><a href="structot_1_1CellType.html#aec3af5ce489fcfd4e192d5a72d4a0b54">ot::CellType::set_orientFlag</a></div><div class="ttdeci">void set_orientFlag(FlagType c_orient)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00060">nsort.h:60</a></div></div>
<div class="ttc" id="classot_1_1TreeNode_html"><div class="ttname"><a href="classot_1_1TreeNode.html">ot::TreeNode</a></div><div class="ttdoc">A class to manage octants. </div><div class="ttdef"><b>Definition:</b> <a href="treeNode_8h_source.html#l00032">treeNode.h:32</a></div></div>
<div class="ttc" id="structot_1_1ScatterMap_html_a3a9bd61ff7c3483f8db18423860a0129"><div class="ttname"><a href="structot_1_1ScatterMap.html#a3a9bd61ff7c3483f8db18423860a0129">ot::ScatterMap::m_sendCounts</a></div><div class="ttdeci">std::vector&lt; RankI &gt; m_sendCounts</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00209">nsort.h:209</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html_a168442e3e2ba6fe76abc4e417b97ec49"><div class="ttname"><a href="structot_1_1GatherMap.html#a168442e3e2ba6fe76abc4e417b97ec49">ot::GatherMap::m_recvCounts</a></div><div class="ttdeci">std::vector&lt; RankI &gt; m_recvCounts</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00234">nsort.h:234</a></div></div>
<div class="ttc" id="classot_1_1Element_html"><div class="ttname"><a href="classot_1_1Element.html">ot::Element</a></div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00154">nsort.h:154</a></div></div>
<div class="ttc" id="namespaceot_html_ae19fb6e2fa60807b5cd80539b2555476"><div class="ttname"><a href="namespaceot.html#ae19fb6e2fa60807b5cd80539b2555476">ot::totalRecvSz</a></div><div class="ttdeci">size_t totalRecvSz(const GatherMap &amp;gm)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00250">nsort.h:250</a></div></div>
<div class="ttc" id="structot_1_1CellType_html_a9939c0953f77995e6fd099f2ec55ed1a"><div class="ttname"><a href="structot_1_1CellType.html#a9939c0953f77995e6fd099f2ec55ed1a">ot::CellType::get_orient_flag</a></div><div class="ttdeci">FlagType get_orient_flag() const</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00057">nsort.h:57</a></div></div>
<div class="ttc" id="classot_1_1Element_html_a40c44722d4a2d12479d9eccf234e1690"><div class="ttname"><a href="classot_1_1Element.html#a40c44722d4a2d12479d9eccf234e1690">ot::Element::Element</a></div><div class="ttdeci">Element(const std::array&lt; T, dim &gt; coords, unsigned int level)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00159">nsort.h:159</a></div></div>
<div class="ttc" id="parUtils_8h_html"><div class="ttname"><a href="parUtils_8h.html">parUtils.h</a></div><div class="ttdoc">A set of parallel utilities. </div></div>
<div class="ttc" id="namespaceibm_html_a526d58a21997e189086dd9459a672e1a"><div class="ttname"><a href="namespaceibm.html#a526d58a21997e189086dd9459a672e1a">ibm::DomainDecider</a></div><div class="ttdeci">std::function&lt; Partition(const double *elemPhysCoords, double elemPhysSize)&gt; DomainDecider</div><div class="ttdef"><b>Definition:</b> <a href="filterFunction_8h_source.html#l00060">filterFunction.h:60</a></div></div>
<div class="ttc" id="structot_1_1CellType_html"><div class="ttname"><a href="structot_1_1CellType.html">ot::CellType</a></div><div class="ttdoc">Identification of face-interior/edge-interior etc., for nodes.  There are OuterDim+1 cell dimensions ...</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00045">nsort.h:45</a></div></div>
<div class="ttc" id="classot_1_1Element_html_a7dfd69806eef49803a4aee79d0117add"><div class="ttname"><a href="classot_1_1Element.html#a7dfd69806eef49803a4aee79d0117add">ot::Element::Element</a></div><div class="ttdeci">Element(const Element &amp;other)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00160">nsort.h:160</a></div></div>
<div class="ttc" id="structot_1_1SFC__NodeSort_html"><div class="ttname"><a href="structot_1_1SFC__NodeSort.html">ot::SFC_NodeSort</a></div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00261">nsort.h:261</a></div></div>
<div class="ttc" id="classot_1_1TNPoint_html_a37260b18402c993e8adf4db62c18317c"><div class="ttname"><a href="classot_1_1TNPoint.html#a37260b18402c993e8adf4db62c18317c">ot::TNPoint::get_owner</a></div><div class="ttdeci">int get_owner() const</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00110">nsort.h:110</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html_aedfac23a33447b618b9dcf2014c8f490"><div class="ttname"><a href="structot_1_1GatherMap.html#aedfac23a33447b618b9dcf2014c8f490">ot::GatherMap::m_recvOffsets</a></div><div class="ttdeci">std::vector&lt; RankI &gt; m_recvOffsets</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00235">nsort.h:235</a></div></div>
<div class="ttc" id="classot_1_1Element_html_adc88d3014a97c137856b55563fccd966"><div class="ttname"><a href="classot_1_1Element.html#adc88d3014a97c137856b55563fccd966">ot::Element::Element</a></div><div class="ttdeci">Element()</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00158">nsort.h:158</a></div></div>
<div class="ttc" id="namespaceot_html_afff5a8c182f80b6768e5bda1a00aa681"><div class="ttname"><a href="namespaceot.html#afff5a8c182f80b6768e5bda1a00aa681">ot::LevI</a></div><div class="ttdeci">unsigned int LevI</div><div class="ttdef"><b>Definition:</b> <a href="tsort_8h_source.html#l00055">tsort.h:55</a></div></div>
<div class="ttc" id="structot_1_1CellType_html_a1cf35925c9f1eaaf42412b30707ab19c"><div class="ttname"><a href="structot_1_1CellType.html#a1cf35925c9f1eaaf42412b30707ab19c">ot::CellType::m_flag</a></div><div class="ttdeci">FlagType m_flag</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00065">nsort.h:65</a></div></div>
<div class="ttc" id="structot_1_1CellType_html_aaecfa7a00d54a2714e04dec942387443"><div class="ttname"><a href="structot_1_1CellType.html#aaecfa7a00d54a2714e04dec942387443">ot::CellType&lt; dim &gt;::FlagType</a></div><div class="ttdeci">unsigned char FlagType</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00047">nsort.h:47</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html_a8fa7b959ad770d122c3479783067f333"><div class="ttname"><a href="structot_1_1GatherMap.html#a8fa7b959ad770d122c3479783067f333">ot::GatherMap::m_locOffset</a></div><div class="ttdeci">RankI m_locOffset</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00239">nsort.h:239</a></div></div>
<div class="ttc" id="structot_1_1ScatterMap_html_a3bd473eae5f415378af5f9cf1a6c8bfd"><div class="ttname"><a href="structot_1_1ScatterMap.html#a3bd473eae5f415378af5f9cf1a6c8bfd">ot::ScatterMap::m_map</a></div><div class="ttdeci">std::vector&lt; RankI &gt; m_map</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00208">nsort.h:208</a></div></div>
<div class="ttc" id="structot_1_1ScatterMap_html"><div class="ttname"><a href="structot_1_1ScatterMap.html">ot::ScatterMap</a></div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00206">nsort.h:206</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html_ab546a3b760a23c20d341ddd0ab68b8ed"><div class="ttname"><a href="structot_1_1GatherMap.html#ab546a3b760a23c20d341ddd0ab68b8ed">ot::GatherMap::m_totalCount</a></div><div class="ttdeci">RankI m_totalCount</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00237">nsort.h:237</a></div></div>
<div class="ttc" id="filterFunction_8h_html"><div class="ttname"><a href="filterFunction_8h.html">filterFunction.h</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html_aeac3e6c4b871613d2ad6f862e5bc211d"><div class="ttname"><a href="structot_1_1GatherMap.html#aeac3e6c4b871613d2ad6f862e5bc211d">ot::GatherMap::m_locCount</a></div><div class="ttdeci">RankI m_locCount</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00238">nsort.h:238</a></div></div>
<div class="ttc" id="classpar_1_1Mpi__datatype_3_01ot_1_1TNPoint_3_01T_00_01dim_01_4_01_4_html_a90a602c8122b70839cf9c7d7e16b3a30"><div class="ttname"><a href="classpar_1_1Mpi__datatype_3_01ot_1_1TNPoint_3_01T_00_01dim_01_4_01_4.html#a90a602c8122b70839cf9c7d7e16b3a30">par::Mpi_datatype&lt; ot::TNPoint&lt; T, dim &gt; &gt;::value</a></div><div class="ttdeci">static MPI_Datatype value()</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00295">nsort.h:295</a></div></div>
<div class="ttc" id="structot_1_1ScatterMap_html_a5d3a7bab30efdba6ba8a1f6394f9424d"><div class="ttname"><a href="structot_1_1ScatterMap.html#a5d3a7bab30efdba6ba8a1f6394f9424d">ot::ScatterMap::m_sendOffsets</a></div><div class="ttdeci">std::vector&lt; RankI &gt; m_sendOffsets</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00210">nsort.h:210</a></div></div>
<div class="ttc" id="classot_1_1TNPoint_html_ac2b8d26b7a11298f6790921831b53d2a"><div class="ttname"><a href="classot_1_1TNPoint.html#ac2b8d26b7a11298f6790921831b53d2a">ot::TNPoint::set_owner</a></div><div class="ttdeci">void set_owner(int owner)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00111">nsort.h:111</a></div></div>
<div class="ttc" id="classot_1_1Element_html_a4fcab890a8748183d645a29a657c2da3"><div class="ttname"><a href="classot_1_1Element.html#a4fcab890a8748183d645a29a657c2da3">ot::Element::Element</a></div><div class="ttdeci">Element(const int dummy, const std::array&lt; T, dim &gt; coords, unsigned int level)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00161">nsort.h:161</a></div></div>
<div class="ttc" id="classpar_1_1Mpi__datatype_html"><div class="ttname"><a href="classpar_1_1Mpi__datatype.html">par::Mpi_datatype</a></div><div class="ttdoc">An abstract class used for communicating messages using user-defined datatypes. The user must impleme...</div><div class="ttdef"><b>Definition:</b> <a href="dtypes_8h_source.html#l00029">dtypes.h:29</a></div></div>
<div class="ttc" id="binUtils_8h_html"><div class="ttname"><a href="binUtils_8h.html">binUtils.h</a></div><div class="ttdoc">A set of efficient functions that use binary operations to perform some small computations. </div></div>
<div class="ttc" id="namespacepar_html"><div class="ttname"><a href="namespacepar.html">par</a></div><div class="ttdoc">Collection of Generic Parallel Functions: Sorting, Partitioning, Searching,... </div><div class="ttdef"><b>Definition:</b> <a href="comm__hierarchy_8h_source.html#l00009">comm_hierarchy.h:9</a></div></div>
<div class="ttc" id="namespaceot_html_a459022582bf1d254539ddf5ac6000a0c"><div class="ttname"><a href="namespaceot.html#a459022582bf1d254539ddf5ac6000a0c">ot::computeTotalSendSz</a></div><div class="ttdeci">size_t computeTotalSendSz(const ScatterMap &amp;sm)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00242">nsort.h:242</a></div></div>
<div class="ttc" id="structot_1_1ScatterMap_html_aa84b097a0b027f7e795075f829896b0f"><div class="ttname"><a href="structot_1_1ScatterMap.html#aa84b097a0b027f7e795075f829896b0f">ot::ScatterMap::m_sendProc</a></div><div class="ttdeci">std::vector&lt; int &gt; m_sendProc</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00211">nsort.h:211</a></div></div>
<div class="ttc" id="hcurvedata_8h_html"><div class="ttname"><a href="hcurvedata_8h.html">hcurvedata.h</a></div></div>
<div class="ttc" id="structot_1_1CellType_html_adec04ff25e23067620ac99005a4af7e5"><div class="ttname"><a href="structot_1_1CellType.html#adec04ff25e23067620ac99005a4af7e5">ot::CellType::set_dimFlag</a></div><div class="ttdeci">void set_dimFlag(FlagType c_dim)</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00059">nsort.h:59</a></div></div>
<div class="ttc" id="structot_1_1GatherMap_html"><div class="ttname"><a href="structot_1_1GatherMap.html">ot::GatherMap</a></div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00214">nsort.h:214</a></div></div>
<div class="ttc" id="namespaceot_html_adf01d593460a9b11ed1cb12dcd7e6122"><div class="ttname"><a href="namespaceot.html#adf01d593460a9b11ed1cb12dcd7e6122">ot::KeyFunInboundsContainer_t</a></div><div class="ttdeci">std::function&lt; RsltType(const SrcType &amp;)&gt; KeyFunInboundsContainer_t</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00151">nsort.h:151</a></div></div>
<div class="ttc" id="namespaceot_html_a01569780058c841713babce53b153d0f"><div class="ttname"><a href="namespaceot.html#a01569780058c841713babce53b153d0f">ot::operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ostream &amp;out, const ScatterMap &amp;sm)</div></div>
<div class="ttc" id="structot_1_1CellType_html_a71405a1576883211f31f42cee94650ed"><div class="ttname"><a href="structot_1_1CellType.html#a71405a1576883211f31f42cee94650ed">ot::CellType::get_dim_flag</a></div><div class="ttdeci">FlagType get_dim_flag() const</div><div class="ttdef"><b>Definition:</b> <a href="nsort_8h_source.html#l00056">nsort.h:56</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
